<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>readme.md</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><h1 id="fabula-digital-library">Fabula Digital Library</h1>
<p>This is a digital library built in PHP for storing pdf files of books.</p>
<h2 id="requirements">Requirements</h2>
<p>This was built and tested using XAMPP for Linux 7.4.33-0</p>
<ul>
<li>PHP 7.4.33</li>
<li>MariaDB 10.4.27</li>
<li>Apache 2.4.54</li>
</ul>
<h2 id="installation-and-running-instructions">Installation and Running Instructions</h2>
<p><strong>1. Download XAMPP or manually set up an Apache web server with MariaDB and PHP</strong></p>
<p>XAMPP can be downloaded here: <a href="https://www.apachefriends.org/">https://www.apachefriends.org/</a></p>
<p><strong>2. Run the Apache Web server on the localhost (either from the XAMPP GUI or from the command line)</strong></p>
<p><strong>3. Run the MariaDB database server on the localhost (either from the XAMPP GUI or from the command line)</strong></p>
<p>On Linux, step 2 and 3 can be done with the command:</p>
<pre><code>$ sudo /opt/lampp/lampp start
</code></pre>
<p><strong>4. Open phpMyAdmin in a browser with <a href="https://localhost/phpMyAdmin">https://localhost/phpMyAdmin</a></strong></p>
<p><strong>5. Create a non-root user for phpMyAdmin and protect the root username with a password.</strong></p>
<p>Initially login with the root username with no password (default), and change the password on the home screen in general setttings.</p>
<p><strong>6. Log into phpMyAdmin and run/import the file <code>library_db.sql</code> (in the current directory).</strong><br>
This creates and fills the database.</p>
<p><strong>7. Put the folder labeled library in the htdocs directory found here (if using XAMPP):</strong></p>
<pre><code>/opt/lampp/htdocs/
</code></pre>
<p><strong>8. Once the database is set up and running along with Apache, the web application can be accessed at:</strong><br>
<a href="http://localhost/library">http://localhost/library</a></p>
<p><em>To log into the different portals, use the following test accounts:</em></p>
<p>Admin:<br>
username: admin<br>
password:  remember</p>
<p>Reader:<br>
email: <a href="mailto:jdoe@email.com">jdoe@email.com</a><br>
password: remember</p>
<h2 id="demo"><strong>Demo</strong></h2>
<ol>
<li>Landing Page<br>
<img src="./demo1.png" alt="landing_page"></li>
<li>Admin Login<br>
<img src="./demo2.png" alt="admin_login"></li>
<li>Admin Portal<br>
<img src="./demo3.png" alt="admin_portal"></li>
<li>Manage Books<br>
<img src="./demo4.png" alt="manage_books"></li>
<li>Add Book<br>
<img src="./demo5.png" alt="add_book"></li>
<li>Edit Book<br>
<img src="./demo6.png" alt="edit_book"></li>
<li>Manage Readers<br>
<img src="./demo7.png" alt="manage_readers"></li>
<li>Add Reader<br>
<img src="./demo8.png" alt="add_reader"></li>
<li>Edit Reader<br>
<img src="./demo9.png" alt="edit_reader"></li>
<li>Manage Authors<br>
<img src="./demo10.png" alt="manage_authors"></li>
<li>Add Author<br>
<img src="./demo11.png" alt="add_author"></li>
<li>Edit Author<br>
<img src="./demo12.png" alt="edit_author"></li>
<li>Search Library<br>
<img src="./demo13.png" alt="search_library"></li>
<li>Query in library<br>
<img src="./demo14.png" alt="library_query"></li>
<li>Reader Portal<br>
<img src="./demo15.png" alt="reader_portal"></li>
<li>Reader home<br>
<img src="./demo16.png" alt="reader_home"></li>
<li>Reader -Search library<br>
<img src="./demo17.png" alt="reader_search"></li>
</ol>
<h2 id="structure">Structure</h2>
<p>The entire application is built using the model-view-controller architecture.</p>
<ul>
<li>Every section has the controller as the index.php file.</li>
<li>Models are all in the <code>/model/</code> directory</li>
<li>Views relevant to each controller are in the <code>./view/</code> directory within the directory of that index.php file</li>
</ul>
<h3 id="site-wide-files">Site-wide files</h3>
<ul>
<li>
<p><code>/util/</code></p>
<ul>
<li>
<p><code>main.php</code> : contains global functions and variables used site-wide</p>
</li>
<li>
<p><code>secure_conn.php</code> : contains function for enforcing HTTPS used site-wide</p>
</li>
<li>
<p><code>validation.php</code> : contains all validation functions used in controllers site-wide</p>
</li>
<li>
<p>/view/</p>
</li>
<li>
<p><code>header.php</code> : contains the site-wide html for the header along with style scripts</p>
</li>
<li>
<p><code>footer.php</code> : contains the side-wide html for the footer along with scripts used by Bootstrap5</p>
</li>
</ul>
</li>
<li>
<p><code>/model/</code><br>
-<em>contains all the db operations specific to the object/database table</em></p>
<ul>
<li><code>admin_db.php</code></li>
<li><code>author_db.php</code></li>
<li><code>book_db.php</code></li>
<li><code>BookClass.php :</code> contains the definition of the Book class</li>
<li><code>database.php</code> : contains the function for connecting to the database</li>
<li><code>reader_db.php</code></li>
<li><code>selection_db.php</code></li>
</ul>
</li>
<li>
<p><code>/errors/</code></p>
<ul>
<li><code>db_error_connect.php</code> : contains error handling function for db connection failure</li>
<li><code>db_error.php</code> : contains error handling for all db errors</li>
<li><code>error.php</code> : contains general error handling functions</li>
</ul>
</li>
</ul>
<h3 id="admin-portal"><strong>Admin Portal</strong></h3>
<ul>
<li>Login/logout
<ul>
<li>controller: <code>/admin/index.php</code></li>
<li>views: <code>/admin/view/</code></li>
</ul>
</li>
<li>Manage Readers
<ul>
<li>controller: <code>/admin/manage_readers/index.php</code></li>
<li>views: <code>/admin/manage_readers/view/</code></li>
</ul>
</li>
<li>Manage Authors
<ul>
<li>controller: <code>/admin/manage_authors/index.php</code></li>
<li>views: <code>/admin/manage_authors/view/</code></li>
</ul>
</li>
<li>Manage Books
<ul>
<li>controller: <code>/admin/manage_books/index.php</code></li>
<li>views: <code>/admin/manage_books/view/</code> + <code>/search/view/search_books.php</code></li>
<li>utility functions: <code>/admin/manage_books/upload_file.php</code></li>
</ul>
</li>
</ul>
<h3 id="reader-section"><strong>Reader Section</strong></h3>
<ul>
<li>Login/logout
<ul>
<li>controller: <code>/reader/index.php</code></li>
<li>views: <code>/reader/view/</code></li>
</ul>
</li>
<li>account
<ul>
<li>controller: <code>/reader/display_account/index.php</code></li>
<li>views: <code>/reader/display_account/view/</code></li>
</ul>
</li>
</ul>
<h3 id="library-section"><strong>Library Section</strong></h3>
<p><em>This is the main search/library section, used by readers and administrators</em></p>
<ul>
<li>controller: <code>/search/index.php</code></li>
<li>views: <code>/search/view/</code></li>
</ul>
<h3 id="file-storage"><strong>File Storage</strong></h3>
<ul>
<li>in the books database table, the filepath to the actual files are saved in the database</li>
<li>When uploading pdf files for books (in add book or edit book operations), the file is uploaded to the <code>/book_files/</code> directory and the filepath is added to the database record for the book</li>
<li>The file performing the file upload operations is <code>/admin/manage_books/upload_file.php</code></li>
</ul>
</div>
</body>

</html>
